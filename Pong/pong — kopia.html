<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>Pong demo</title>
	<link href="style.css" rel="stylesheet" />
	<script src="playcanvas-latest.js"></script>
</head>
<body>
	
	<canvas id="application-canvas"></canvas>

    
<script>
    var canvas = document.getElementById("application-canvas");
	canvas.focus();
    /* all our JavaScript code goes here */
	var app = new pc.Application(canvas, {
    keyboard: new pc.Keyboard(window),
	elementInput: new pc.ElementInput(canvas)
});

app.setCanvasFillMode(pc.FILLMODE_FILL_WINDOW);
app.setCanvasResolution(pc.RESOLUTION_AUTO);

app.scene.ambientLight = new pc.Color(0.2, 0.2, 0.2);
</script>

<script src="p1paddle.js"></script>
<script src="paddleai.js"></script>
<script src="ball.js"></script>
	
<script>
app.start();
    </script>
    <script>
    
            // Create a canvas font asset
            const size = 300;
            const elSize = 300;
            var cf = new pc.CanvasFont(app, {
                color: new pc.Color(1, 1, 1), // white
                fontName: "bit5x5",
                fontSize: size,
                width: 400,
                height: 400,
                getCharScale: function (code) {
                    // finger pointing up is a particular long character, use more scaling
                    if (code === 0x261D) {
                        return 0.8;
                    } else {
                        return -1; // use default scaler
                    }
                }
            });

            var asset = new pc.Asset("CanvasFont", "font", {});
            app.assets.add(asset);
            asset.resource = cf;
            asset.loaded = true;

            // create camera

            var scr = new pc.Entity();
            scr.addComponent("screen", {
                screenSpace: true,
                referenceResolution: [1280, 720],
                scaleMode: pc.SCALEMODE_BLEND,
                scaleBlend: 1
            });


            // some sample text
            var firstline = "P O N G";

            cf.createTextures(firstline);

            var canvasElementEntity1 = new pc.Entity();
            canvasElementEntity1.addComponent("element", {
                type: "text",
                fontAsset: asset,
                fontSize: elSize,
                text: firstline,
                wrapLines: true,
                autoWidth: true,
                autoHeight: true,
                margin: [0,0,0,0],
                anchor: [0.5,0.5,0.5,0.5],
                pivot: [0.5, 0.5],
                alignment: [0.5, 0.5]
            });


            app.root.addChild(scr);
            scr.addChild(canvasElementEntity1);
            canvasElementEntity1.translate(0, 0, 0);

            
                var button = new pc.Entity('Button');
                button.addComponent('element', {
                    type: 'image',
                    anchor: [0.5,1,0.5,1],
                    pivot: [0.5, 1],
                    width: 256,
                    height: 64,
                    color: [0.5,0.5,0.5]
                });
				
				button.addComponent('button', {
                    active: true,
                    transitionMode: pc.BUTTON_TRANSITION_MODE_TINT_CHANGE,
                    hoverTint: [0.7,0.7,0.7],

                    imageEntity: button
                });
				
				            var canvasElementEntity2 = new pc.Entity();
            canvasElementEntity2.addComponent("element", {
                type: "text",
                fontAsset: asset,
                fontSize: 20,
                text: firstline,
                wrapLines: true,
                autoWidth: true,
                autoHeight: true,
                margin: [0,0,0,0],
                anchor: [0.5,0.5,0.5,0.5],
                pivot: [0.5, 0.5],
                alignment: [0.5, 0.5]
            });
				
				button.addChild(canvasElementEntity2);
				scr.addChild(button);
                button.element.useInput = true;

        
    
    </script>
    
    
    
    
    
    <script>

var camera = new pc.Entity();
camera.addComponent("camera", {
    clearColor: new pc.Color(0, 0, 0),
	projection: pc.PROJECTION_ORTHOGRAPHIC,
	orthoHeight: 5
	
});
camera.setPosition(0, 0, 1);
app.root.addChild(camera);

var intro = new pc.Entity();

	

var light = new pc.Entity();
light.addComponent('light');
app.root.addChild(light);
light.rotate(45, 0, 0);

	
	
	
</script>
</body>
</html>